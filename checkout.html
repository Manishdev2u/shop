<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Checkout - Flow Digital</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="checkout-page.css">
</head>
<body class="checkout-page-body">
    <div class="auth-bg-aurora">
        <div class="aurora-shape-1"></div>
        <div class="aurora-shape-2"></div>
    </div>

    <header class="header">
        <div class="container">
            <a href="index.html" class="logo">Flow</a>
        </div>
    </header>

    <main class="checkout-main">
        <div class="container">
            <h1 class="checkout-page-title">Your Cart</h1>
            
            <div id="page-loader" class="page-loader"><div class="spinner"></div></div>

            <div id="checkout-content" class="checkout-grid" style="display: none;">
                
                <!-- Left Column: Main Content -->
                <div class="checkout-main-content">
                    <div class="checkout-card">
                        <h2>Customer Information</h2>
                        <form id="customer-info-form">
                            <div class="input-group-v3">
                                <label for="full-name">Full Name</label>
                                <input type="text" id="full-name" placeholder="Loading from account..." required disabled>
                            </div>
                            <div class="input-group-v3">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" placeholder="Loading from account..." required disabled>
                            </div>
                            <div class="input-group-v3">
                                <label for="phone">Phone Number (Optional)</label>
                                <input type="tel" id="phone" placeholder="Enter your phone number">
                            </div>
                        </form>
                    </div>

                    <div id="checkout-item-container" class="checkout-card">
                        <!-- The single product item will be injected here -->
                    </div>
                </div>

                <!-- Right Column: Order Summary -->
                <div class="checkout-sidebar">
                    <div class="checkout-card">
                        <h2>Order Summary</h2>
                        <div class="price-summary">
                            <div class="price-row">
                                <span>Subtotal</span>
                                <span id="subtotal-price">₹0.00</span>
                            </div>
                            <div class="price-row discount" id="discount-row" style="display: none;">
                                <span>Discount</span>
                                <span id="discount-amount">₹0.00</span>
                            </div>
                            <div class="price-row total">
                                <span>Total</span>
                                <span id="total-price">₹0.00</span>
                            </div>
                        </div>
                        <div class="coupon-section">
                            <div class="coupon-input-group">
                                <input type="text" id="coupon-input" placeholder="Coupon code">
                                <button id="apply-coupon-btn">Apply</button>
                            </div>
                            <p id="coupon-message" class="coupon-message"></p>
                        </div>
                        <button id="proceed-to-checkout-btn" class="btn btn-primary-gradient btn-full">
                            Proceed to Checkout
                        </button>
                        <p class="secure-checkout-text">
                            <svg viewBox="0 0 20 20" fill="currentColor" width="16"><path fill-rule="evenodd" d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z" clip-rule="evenodd"></path></svg>
                            Secure Checkout with Razorpay
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="data.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="checkout.js"></script>
</body>
</html>